<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->
    <link href="./styles/index.css" rel="stylesheet" />
    <link href="./styles/form.css" rel="stylesheet" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/images/favicon-32x32.png"
    />
    <script type="text/javascript" src="./src/index.js"></script>
    <title>Conference Ticket Generator</title>
    <meta
      name="description"
      content="A simple conference ticket generator built with HTML, CSS, and JavaScript."
    />
  </head>
  <body>
    <div class="main-container">
      <img
        style="margin-top: 1rem"
        src="./assets/images/logo-full.svg"
        alt="Coding Conference Logo"
      />
      <div id="form-div">
        <!-- Form starts -->
        <h1 class="title-heading">
          Your Journey to Coding Conf 2025 Starts Here!
        </h1>

        <p class="sub-text">
          Secure your spot at next year's biggest coding conference.
        </p>
        <form
          class="ticket-generation-form"
          onsubmit="handleSubmit(event)"
          role="form"
          aria-label="Conference ticket registration form"
        >
          <div
            class="form-field"
            role="group"
            aria-labelledby="avatar-upload-label"
          >
            <p id="avatar-upload-label" style="margin: 0">Upload Avatar</p>
            <img id="uploaded-image" alt="" aria-hidden="true" />
            <input
              type="file"
              onchange="handleUpload(event)"
              name="fileUploadInput"
              id="fileUploadInput"
              accept="image/png, image/jpeg, image/jpg"
              style="display: none"
            />
            <label
              id="image-dropzone"
              for="fileUploadInput"
              ondrop="handleUpload(event)"
              ondragover="handleDragOver(event)"
              onfocus="this.style.outline='2px solid blue'"
              onblur="this.style.outline='none'"
              tabindex="0"
              onkeydown="if (event.key === 'Enter' || event.key === ' ') {document.getElementById('fileUploadInput').click();}"
              aria-label="Upload your photo (JPG or PNG max size: 500KB)"
            >
              <img
                src="./assets/images/icon-upload.svg"
                alt="icon for uploading"
              />
              <p>Drag and drop or click to upload</p>
            </label>
            <span class="caption-text">
              <img
                src="./assets/images/icon-info.svg"
                alt="info icon"
                style="margin-right: 0.2rem"
              />
              Upload your photo (JPG or PNG max size: 500KB).
            </span>
            <p id="ticket-form-image-error" class="error-text"></p>
          </div>
          <div class="form-field" role="group" aria-labelledby="name-label">
            <label id="name-label" for="name">Full Name</label>
            <input
              class="form-input"
              type="text"
              id="name"
              name="name"
              required
              aria-label="Enter your full name"
            />
          </div>
          <div class="form-field" role="group" aria-labelledby="email-label">
            <label id="email-label" for="email">Email Address</label>
            <input
              class="form-input"
              placeholder="example@email.com"
              type="email"
              id="email"
              name="email"
              required
              aria-label="Enter your email address"
            />
          </div>
          <p
            id="ticket-form-email-error"
            style="display: none"
            class="error-text"
          ></p>
          <div class="form-field" role="group" aria-labelledby="github-label">
            <label id="github-label" for="github-user">GitHub Username</label>
            <div class="github-user-div">
              <span class="at-symbol">@</span>
              <input
                class="form-input"
                placeholder="yourusername"
                type="text"
                id="github-user"
                name="githubUsername"
                required
                aria-label="Enter your GitHub username"
              />
            </div>
          </div>
          <div class="form-field">
            <button
              class="generate-ticket-button"
              type="submit"
              onfocus="this.style.outline='2px solid blue'"
              onblur="this.style.outline='none'"
              aria-label="Generate your ticket"
            >
              Generate My Ticket
            </button>
          </div>
        </form>
      </div>
      <!-- Form ends -->

      <!-- Generated tickets starts -->
      <div
        id="view-div"
        style="display: none"
        role="region"
        aria-label="Generated ticket details"
      >
        <div style="flex-direction: column">
          <h1 class="title-heading" style="width: 100%; display: block">
            Congrats,
            <span id="name-display" class="gradient"></span>!
          </h1>
          <h1 class="title-heading" style="width: 100%">
            Your ticket is ready.
          </h1>
        </div>
        <p class="sub-text" style="padding: 1rem; color: hsl(252, 6%, 83%)">
          <span> We've emailed your ticket to&nbsp;</span>
          <span id="email-display"></span>
          <span>&nbsp;and will send updates in the run up to the event.</span>
        </p>
        <div id="ticket" role="region" aria-label="Conference ticket">
          <div style="display: flex; flex-direction: column; gap: 0.3rem">
            <img
              style="width: 70%"
              src="./assets/images/logo-full.svg"
              alt="Coding Conference Logo"
            />
            <p
              class="caption-text"
              style="padding-bottom: 0.6rem; margin-left: 3rem"
            >
              Jan 31, 2025 / Austin, TX
            </p>
          </div>
          <div style="display: flex; padding-bottom: 1rem">
            <img
              id="ticket-image-display"
              class="avatar-image"
              src="./assets/images/image-avatar.jpg"
            />
            <div style="display: flex; flex-direction: column; gap: 0.3rem">
              <span id="name-display-ticket"></span>
              <span class="caption-text">
                <img
                  src="./assets/images/icon-github.svg"
                  alt="info icon"
                  style="margin-right: 0.2rem"
                />
                <span id="github-username-display"></span>
              </span>
            </div>
          </div>
          <p id="id-number"></p>
        </div>
      </div>
      <!-- Generated tickets ends -->

      <div class="attribution">
        Challenge by
        <a href="https://www.frontendmentor.io?ref=challenge">Frontend Mentor</a
        >. Coded by <a href="https://www.markwong.dev">Mark Wong</a>.
      </div>
    </div>
  </body>
</html>
